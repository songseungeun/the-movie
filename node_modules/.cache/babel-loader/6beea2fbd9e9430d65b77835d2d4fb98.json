{"ast":null,"code":"var _jsxFileName = \"/Users/songseungeun/Documents/dev/TIL/react/the-movie/src/MoviesContext.js\";\nimport React, { createContext, useReducer, useContext } from \"react\";\nimport { movies } from \"./api\";\nimport createAsyncDispatcher, { initialAsyncState, createAsyncHandler } from \"./asyncActionUtils\";\nconst initialState = {\n  now: initialAsyncState\n};\nconst nowHandler = createAsyncHandler(\"GET_NOW\", \"now\");\n\nfunction nowReducer(state, action) {\n  switch (action.type) {\n    case \"GET_NOW\":\n    case \"GET_NOW_SUCCESS\":\n    case \"GET_NOW_ERROR\":\n      return nowHandler(state, action);\n\n    default:\n      throw new Error(\"Unhandled action type\", action.type);\n  }\n}\n\nconst NowStateContext = createContext(null);\nconst NowDispatchContext = createContext(null);\nexport function UsersProvider({\n  children\n}) {\n  const [state, dispatch] = useReducer(nowReducer, initialState);\n  return /*#__PURE__*/React.createElement(NowStateContext.Provider, {\n    value: state,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(NowDispatchContext.Provider, {\n    value: dispatch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, children));\n}\nexport function useNowState() {\n  const state = useContext(NowStateContext);\n\n  if (!state) {\n    throw new Error(\"Cannot find UserProvider\");\n  }\n\n  return state;\n}\nexport function useUsersDispatch() {\n  const dispatch = useContext(UsersDispatchContext);\n\n  if (!dispatch) {\n    throw new Error(\"Cannot find UserProvider\");\n  }\n\n  return dispatch;\n}\nexport const getUsers = createAsyncDispatcher(\"GET_USERS\", api.getUsers);\nexport const getUser = createAsyncDispatcher(\"GET_USER\", api.getUser);\nexport async function getNowPlaying() {\n  const response = await movies.getNowPlaying();\n  return response;\n}\nexport const MoviesContext = () => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 10\n    }\n  });\n};","map":{"version":3,"sources":["/Users/songseungeun/Documents/dev/TIL/react/the-movie/src/MoviesContext.js"],"names":["React","createContext","useReducer","useContext","movies","createAsyncDispatcher","initialAsyncState","createAsyncHandler","initialState","now","nowHandler","nowReducer","state","action","type","Error","NowStateContext","NowDispatchContext","UsersProvider","children","dispatch","useNowState","useUsersDispatch","UsersDispatchContext","getUsers","api","getUser","getNowPlaying","response","MoviesContext"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,UAA/B,EAA2CC,UAA3C,QAA6D,OAA7D;AACA,SAASC,MAAT,QAAuB,OAAvB;AACA,OAAOC,qBAAP,IACEC,iBADF,EAEEC,kBAFF,QAGO,oBAHP;AAKA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,GAAG,EAAEH;AADc,CAArB;AAGA,MAAMI,UAAU,GAAGH,kBAAkB,CAAC,SAAD,EAAY,KAAZ,CAArC;;AAEA,SAASI,UAAT,CAAoBC,KAApB,EAA2BC,MAA3B,EAAmC;AACjC,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,SAAL;AACA,SAAK,iBAAL;AACA,SAAK,eAAL;AACE,aAAOJ,UAAU,CAACE,KAAD,EAAQC,MAAR,CAAjB;;AACF;AACE,YAAM,IAAIE,KAAJ,CAAU,uBAAV,EAAmCF,MAAM,CAACC,IAA1C,CAAN;AANJ;AAQD;;AAED,MAAME,eAAe,GAAGf,aAAa,CAAC,IAAD,CAArC;AACA,MAAMgB,kBAAkB,GAAGhB,aAAa,CAAC,IAAD,CAAxC;AAEA,OAAO,SAASiB,aAAT,CAAuB;AAAEC,EAAAA;AAAF,CAAvB,EAAqC;AAC1C,QAAM,CAACP,KAAD,EAAQQ,QAAR,IAAoBlB,UAAU,CAACS,UAAD,EAAaH,YAAb,CAApC;AACA,sBACE,oBAAC,eAAD,CAAiB,QAAjB;AAA0B,IAAA,KAAK,EAAEI,KAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,kBAAD,CAAoB,QAApB;AAA6B,IAAA,KAAK,EAAEQ,QAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGD,QADH,CADF,CADF;AAOD;AAED,OAAO,SAASE,WAAT,GAAuB;AAC5B,QAAMT,KAAK,GAAGT,UAAU,CAACa,eAAD,CAAxB;;AACA,MAAI,CAACJ,KAAL,EAAY;AACV,UAAM,IAAIG,KAAJ,CAAU,0BAAV,CAAN;AACD;;AACD,SAAOH,KAAP;AACD;AAED,OAAO,SAASU,gBAAT,GAA4B;AACjC,QAAMF,QAAQ,GAAGjB,UAAU,CAACoB,oBAAD,CAA3B;;AACA,MAAI,CAACH,QAAL,EAAe;AACb,UAAM,IAAIL,KAAJ,CAAU,0BAAV,CAAN;AACD;;AACD,SAAOK,QAAP;AACD;AAED,OAAO,MAAMI,QAAQ,GAAGnB,qBAAqB,CAAC,WAAD,EAAcoB,GAAG,CAACD,QAAlB,CAAtC;AACP,OAAO,MAAME,OAAO,GAAGrB,qBAAqB,CAAC,UAAD,EAAaoB,GAAG,CAACC,OAAjB,CAArC;AAEP,OAAO,eAAeC,aAAf,GAA+B;AACpC,QAAMC,QAAQ,GAAG,MAAMxB,MAAM,CAACuB,aAAP,EAAvB;AACA,SAAOC,QAAP;AACD;AAED,OAAO,MAAMC,aAAa,GAAG,MAAM;AACjC,sBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACD,CAFM","sourcesContent":["import React, { createContext, useReducer, useContext } from \"react\";\nimport { movies } from \"./api\";\nimport createAsyncDispatcher, {\n  initialAsyncState,\n  createAsyncHandler,\n} from \"./asyncActionUtils\";\n\nconst initialState = {\n  now: initialAsyncState,\n};\nconst nowHandler = createAsyncHandler(\"GET_NOW\", \"now\");\n\nfunction nowReducer(state, action) {\n  switch (action.type) {\n    case \"GET_NOW\":\n    case \"GET_NOW_SUCCESS\":\n    case \"GET_NOW_ERROR\":\n      return nowHandler(state, action);\n    default:\n      throw new Error(\"Unhandled action type\", action.type);\n  }\n}\n\nconst NowStateContext = createContext(null);\nconst NowDispatchContext = createContext(null);\n\nexport function UsersProvider({ children }) {\n  const [state, dispatch] = useReducer(nowReducer, initialState);\n  return (\n    <NowStateContext.Provider value={state}>\n      <NowDispatchContext.Provider value={dispatch}>\n        {children}\n      </NowDispatchContext.Provider>\n    </NowStateContext.Provider>\n  );\n}\n\nexport function useNowState() {\n  const state = useContext(NowStateContext);\n  if (!state) {\n    throw new Error(\"Cannot find UserProvider\");\n  }\n  return state;\n}\n\nexport function useUsersDispatch() {\n  const dispatch = useContext(UsersDispatchContext);\n  if (!dispatch) {\n    throw new Error(\"Cannot find UserProvider\");\n  }\n  return dispatch;\n}\n\nexport const getUsers = createAsyncDispatcher(\"GET_USERS\", api.getUsers);\nexport const getUser = createAsyncDispatcher(\"GET_USER\", api.getUser);\n\nexport async function getNowPlaying() {\n  const response = await movies.getNowPlaying();\n  return response;\n}\n\nexport const MoviesContext = () => {\n  return <div></div>;\n};\n"]},"metadata":{},"sourceType":"module"}